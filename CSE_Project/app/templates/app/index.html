{% extends 'app/base.html' %}
{% load static %}

{% block title %}Cash Scan Explore - Home{% endblock %}

{% block extra_css %}
<link href="{% static 'app/styles/home.css' %}" rel="stylesheet"/>
{% endblock %}

{% block bg_video %}
<!-- 背景動画 -->
<video autoplay="" id="bg-video" loop="" muted="">
    <source src="{% static 'app/assets/CSEvideo.mp4' %}" type="video/mp4"/>
    お使いのブラウザは動画タグに対応していません。
</video>
{% endblock %}

{% block content %}
<!-- アプリケーションのルート要素 -->
<div id="app">
    <div id="intro">
        <h1>ARE U READY?</h1>
        <button id="intro-btn">OK</button>
        <div id="progress-container" style="display: none;">
            <div id="progress-bar"></div>
        </div>
    </div>

    <div id="main-content" style="display: none;">
        <h1 class="main-title">Cash Scan Explore</h1>
        <div class="description-box" style="font-family: Arial, sans-serif; font-weight: bold">
            Our project, "Cash Scan Explorer," is designed to support kids in taking their first steps 
            <br/> toward understanding money. Using image recognition technology, 
            <br/> it provides a system that instantlyreveals the value of different currencies,
            <br/> making exchange rates and money concepts feel approachable and relatable. 
            <br/>With a balance of fun and learning, we aim to create an engaging 
            <br/>experience where kids can explore the basics of money in an enjoyable, hands-on way.
            <br/>
            <br/>
            <h2 style="margin-bottom: 10px;">---- Contents of This Project ---- </h2>
            <ul style="list-style-position: inside; padding: 0; display: inline-block; text-align: left;">
                <li>Exchange Rate 【Currency Converter】</li>
                <li>Image Recognition 【Japanese Yen / Taiwan Dollar】</li>
                <li>Types of Money 【Explanation of Each Type of Money】</li>
            </ul>
        </div>

        <div class="graph-space">
            {% if error_message %}
                <div class="error-message">
                    {{ error_message }}
                </div>
            {% endif %}
            
            {% if graph_data %}
                <img alt="Exchange Rate Plot" 
                     border="5" 
                     src="data:image/png;base64,{{ graph_data }}" 
                     style="max-width: 100%; height: auto;"/>
            {% else %}
                {% if not error_message %}
                    <div class="loading-message">
                        グラフデータを読み込み中...
                    </div>
                {% endif %}
            {% endif %}
        </div>

        <div class="button-section">
            <a class="button-box" href="{% url 'app:mitei' %}">
                <h2>未定</h2>
                <img alt="未定" src="{% static 'app/assets/news-image.png' %}"/>
                <p>未定についての説明文</p>
            </a>

            <a class="button-box" href="{% url 'app:exchange_rate' %}">
                <h2>Exchange Rate</h2>
                <img alt="Exchange Rate" src="{% static 'app/assets/news.png' %}"/>
                <p class="button-box-explain">
                    <strong>Enter amounts in Taiwanese dollars/Japanese yen
                    <br/>and instantly converts them into a variety of currencies!!</strong><br/>
                    <br/>Like US dollars or euros, using real-time exchange rates.<br/>
                    <br/>With a simple interface, this tool provides an easy way to 
                    understand currency values and gain a global perspective on how money works.
                </p>
            </a>

            <a class="button-box" href="{% url 'app:image_recognition' %}">
                <h2>Image Recognition</h2>
                <img alt="Image Recognition" src="{% static 'app/assets/image-recognition.png' %}"/>
                <p class="button-box-explain">
                    <strong>Using image recognition, 
                    <br/>automatically identifies Japanese yen and Taiwanese dollars, 
                    then converts their value based on the latest exchange rates.</strong>
                    <br/><br/>This intuitive visual system makes it easy to grasp currency values, 
                    <br/>offering a convenient and innovative way to develop a global understanding of money.
                </p>
            </a>

            <a class="button-box" href="{% url 'app:money' %}">
                <h2>Types of Money</h2>
                <img alt="Types of Money" src="{% static 'app/assets/money-explanation.png' %}"/>
                <p class="button-box-explain">
                    <strong>Explanations of Japanese and Taiwanese currencies, </strong>
                    <br/>exploring the cultural differences and historical backgrounds behind each. 
                    <br/><br/>This allows users to understand not only the value of each currency 
                    <br/>but also the unique stories and contexts they represent.
                </p>
            </a>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
    {{ block.super }}
    <script src="{% static 'app/scripts/app.js' %}"></script>
    <script src="{% static 'app/scripts/graph_updater.js' %}"></script>
{% endblock %}